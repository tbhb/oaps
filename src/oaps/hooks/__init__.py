"""Pydantic models for Claude Code hooks."""

from oaps.utils import GitContext, get_git_context

from ._action import (
    AllowAction,
    DenyAction,
    InjectAction,
    LogAction,
    ModifyAction,
    OutputAccumulator,
    PythonAction,
    ScriptAction,
    SuggestAction,
    TransformAction,
    WarnAction,
)
from ._automation import (
    DEFAULT_TIMEOUT_MS,
    MAX_OUTPUT_BYTES,
    AutomationResult,
    process_return_value,
    serialize_context,
    supports_injection,
    supports_modification,
    truncate_output,
)
from ._executor import (
    ActionResult,
    ExecutionResult,
    RuleExecutionResult,
    execute_rules,
)
from ._expression import (
    ExpressionEvaluator,
    ExpressionFunction,
    FunctionRegistry,
    adapt_context,
    create_function_registry,
    evaluate_condition,
)
from ._functions import (
    CurrentBranchFunction,
    EnvFunction,
    FileExistsFunction,
    GitFileInFunction,
    GitHasConflictsFunction,
    GitHasModifiedFunction,
    GitHasStagedFunction,
    GitHasUntrackedFunction,
    HasConflictsFunction,
    IsExecutableFunction,
    IsGitRepoFunction,
    IsModifiedFunction,
    IsPathUnderFunction,
    IsStagedFunction,
    MatchesGlobFunction,
    ProjectGetFunction,
    SessionGetFunction,
)
from ._inputs import (
    HOOK_EVENT_TYPE_TO_MODEL,
    AskUserQuestionToolInput,
    BashOutputToolInput,
    BashToolInput,
    EditToolInput,
    EnterPlanModeToolInput,
    ExitPlanModeToolInput,
    GlobToolInput,
    GrepToolInput,
    KillShellToolInput,
    MultiEditOperation,
    MultiEditToolInput,
    NotebookEditToolInput,
    NotificationInput,
    PermissionRequestInput,
    PostToolUseInput,
    PreCompactInput,
    PreToolUseInput,
    Question,
    QuestionOption,
    ReadToolInput,
    SessionEndInput,
    SessionStartInput,
    SkillToolInput,
    SlashCommandToolInput,
    StopInput,
    SubagentStopInput,
    TaskToolInput,
    TodoItem,
    TodoWriteToolInput,
    UserPromptSubmitInput,
    WebFetchToolInput,
    WebSearchToolInput,
    WriteToolInput,
)
from ._matcher import (
    MatchedRule,
    match_rules,
)
from ._outputs import (
    NotificationOutput,
    PermissionRequestDecision,
    PermissionRequestHookSpecificOutput,
    PermissionRequestOutput,
    PostToolUseHookSpecificOutput,
    PostToolUseOutput,
    PreCompactHookSpecificOutput,
    PreCompactOutput,
    PreToolUseHookSpecificOutput,
    PreToolUseOutput,
    SessionEndOutput,
    SessionStartHookSpecificOutput,
    SessionStartOutput,
    StopOutput,
    SubagentStopOutput,
    UserPromptSubmitHookSpecificOutput,
    UserPromptSubmitOutput,
)
from ._statistics import (
    SessionStatistics,
    format_statistics_context,
    gather_session_statistics,
)
from ._templates import substitute_template

__all__ = [
    "DEFAULT_TIMEOUT_MS",
    "HOOK_EVENT_TYPE_TO_MODEL",
    "MAX_OUTPUT_BYTES",
    "ActionResult",
    "AllowAction",
    "AskUserQuestionToolInput",
    "AutomationResult",
    "BashOutputToolInput",
    "BashToolInput",
    "CurrentBranchFunction",
    "DenyAction",
    "EditToolInput",
    "EnterPlanModeToolInput",
    "EnvFunction",
    "ExecutionResult",
    "ExitPlanModeToolInput",
    "ExpressionEvaluator",
    "ExpressionFunction",
    "FileExistsFunction",
    "FunctionRegistry",
    "GitContext",
    "GitFileInFunction",
    "GitHasConflictsFunction",
    "GitHasModifiedFunction",
    "GitHasStagedFunction",
    "GitHasUntrackedFunction",
    "GlobToolInput",
    "GrepToolInput",
    "HasConflictsFunction",
    "InjectAction",
    "IsExecutableFunction",
    "IsGitRepoFunction",
    "IsModifiedFunction",
    "IsPathUnderFunction",
    "IsStagedFunction",
    "KillShellToolInput",
    "LogAction",
    "MatchedRule",
    "MatchesGlobFunction",
    "ModifyAction",
    "MultiEditOperation",
    "MultiEditToolInput",
    "NotebookEditToolInput",
    "NotificationInput",
    "NotificationOutput",
    "OutputAccumulator",
    "PermissionRequestDecision",
    "PermissionRequestHookSpecificOutput",
    "PermissionRequestInput",
    "PermissionRequestOutput",
    "PostToolUseHookSpecificOutput",
    "PostToolUseInput",
    "PostToolUseOutput",
    "PreCompactHookSpecificOutput",
    "PreCompactInput",
    "PreCompactOutput",
    "PreToolUseHookSpecificOutput",
    "PreToolUseInput",
    "PreToolUseOutput",
    "ProjectGetFunction",
    "PythonAction",
    "Question",
    "QuestionOption",
    "ReadToolInput",
    "RuleExecutionResult",
    "ScriptAction",
    "SessionEndInput",
    "SessionEndOutput",
    "SessionGetFunction",
    "SessionStartHookSpecificOutput",
    "SessionStartInput",
    "SessionStartOutput",
    "SessionStatistics",
    "SkillToolInput",
    "SlashCommandToolInput",
    "StopInput",
    "StopOutput",
    "SubagentStopInput",
    "SubagentStopOutput",
    "SuggestAction",
    "TaskToolInput",
    "TodoItem",
    "TodoWriteToolInput",
    "TransformAction",
    "UserPromptSubmitHookSpecificOutput",
    "UserPromptSubmitInput",
    "UserPromptSubmitOutput",
    "WarnAction",
    "WebFetchToolInput",
    "WebSearchToolInput",
    "WriteToolInput",
    "adapt_context",
    "create_function_registry",
    "evaluate_condition",
    "execute_rules",
    "format_statistics_context",
    "gather_session_statistics",
    "get_git_context",
    "match_rules",
    "process_return_value",
    "serialize_context",
    "substitute_template",
    "supports_injection",
    "supports_modification",
    "truncate_output",
]
